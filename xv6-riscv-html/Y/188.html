<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>lock</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.6.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/61.html#L27'>lock</a>               27 kernel/bio.c     struct spinlock lock;</span>
<span class='curline'><a href='../S/61.html#L41'>lock</a>               41 kernel/bio.c     initlock(&amp;bcache.lock, "bcache");</span>
<span class='curline'><a href='../S/61.html#L49'>lock</a>               49 kernel/bio.c       initsleeplock(&amp;b-&gt;lock, "buffer");</span>
<span class='curline'><a href='../S/61.html#L63'>lock</a>               63 kernel/bio.c     acquire(&amp;bcache.lock);</span>
<span class='curline'><a href='../S/61.html#L69'>lock</a>               69 kernel/bio.c         release(&amp;bcache.lock);</span>
<span class='curline'><a href='../S/61.html#L70'>lock</a>               70 kernel/bio.c         acquiresleep(&amp;b-&gt;lock);</span>
<span class='curline'><a href='../S/61.html#L83'>lock</a>               83 kernel/bio.c         release(&amp;bcache.lock);</span>
<span class='curline'><a href='../S/61.html#L84'>lock</a>               84 kernel/bio.c         acquiresleep(&amp;b-&gt;lock);</span>
<span class='curline'><a href='../S/61.html#L109'>lock</a>              109 kernel/bio.c     if(!holdingsleep(&amp;b-&gt;lock))</span>
<span class='curline'><a href='../S/61.html#L119'>lock</a>              119 kernel/bio.c     if(!holdingsleep(&amp;b-&gt;lock))</span>
<span class='curline'><a href='../S/61.html#L122'>lock</a>              122 kernel/bio.c     releasesleep(&amp;b-&gt;lock);</span>
<span class='curline'><a href='../S/61.html#L124'>lock</a>              124 kernel/bio.c     acquire(&amp;bcache.lock);</span>
<span class='curline'><a href='../S/61.html#L136'>lock</a>              136 kernel/bio.c     release(&amp;bcache.lock);</span>
<span class='curline'><a href='../S/61.html#L141'>lock</a>              141 kernel/bio.c     acquire(&amp;bcache.lock);</span>
<span class='curline'><a href='../S/61.html#L143'>lock</a>              143 kernel/bio.c     release(&amp;bcache.lock);</span>
<span class='curline'><a href='../S/61.html#L148'>lock</a>              148 kernel/bio.c     acquire(&amp;bcache.lock);</span>
<span class='curline'><a href='../S/61.html#L150'>lock</a>              150 kernel/bio.c     release(&amp;bcache.lock);</span>
<span class='curline'><a href='../S/47.html#L6'>lock</a>                6 kernel/buf.h     struct sleeplock lock;</span>
<span class='curline'><a href='../S/57.html#L45'>lock</a>               45 kernel/console.c   struct spinlock lock;</span>
<span class='curline'><a href='../S/57.html#L63'>lock</a>               63 kernel/console.c   acquire(&amp;cons.lock);</span>
<span class='curline'><a href='../S/57.html#L70'>lock</a>               70 kernel/console.c   release(&amp;cons.lock);</span>
<span class='curline'><a href='../S/57.html#L89'>lock</a>               89 kernel/console.c   acquire(&amp;cons.lock);</span>
<span class='curline'><a href='../S/57.html#L95'>lock</a>               95 kernel/console.c         release(&amp;cons.lock);</span>
<span class='curline'><a href='../S/57.html#L98'>lock</a>               98 kernel/console.c       sleep(&amp;cons.r, &amp;cons.lock);</span>
<span class='curline'><a href='../S/57.html#L126'>lock</a>              126 kernel/console.c   release(&amp;cons.lock);</span>
<span class='curline'><a href='../S/57.html#L140'>lock</a>              140 kernel/console.c   acquire(&amp;cons.lock);</span>
<span class='curline'><a href='../S/57.html#L180'>lock</a>              180 kernel/console.c   release(&amp;cons.lock);</span>
<span class='curline'><a href='../S/57.html#L186'>lock</a>              186 kernel/console.c   initlock(&amp;cons.lock, "cons");</span>
<span class='curline'><a href='../S/67.html#L18'>lock</a>               18 kernel/file.c    struct spinlock lock;</span>
<span class='curline'><a href='../S/67.html#L25'>lock</a>               25 kernel/file.c    initlock(&amp;ftable.lock, "ftable");</span>
<span class='curline'><a href='../S/67.html#L34'>lock</a>               34 kernel/file.c    acquire(&amp;ftable.lock);</span>
<span class='curline'><a href='../S/67.html#L38'>lock</a>               38 kernel/file.c        release(&amp;ftable.lock);</span>
<span class='curline'><a href='../S/67.html#L42'>lock</a>               42 kernel/file.c    release(&amp;ftable.lock);</span>
<span class='curline'><a href='../S/67.html#L50'>lock</a>               50 kernel/file.c    acquire(&amp;ftable.lock);</span>
<span class='curline'><a href='../S/67.html#L54'>lock</a>               54 kernel/file.c    release(&amp;ftable.lock);</span>
<span class='curline'><a href='../S/67.html#L64'>lock</a>               64 kernel/file.c    acquire(&amp;ftable.lock);</span>
<span class='curline'><a href='../S/67.html#L68'>lock</a>               68 kernel/file.c      release(&amp;ftable.lock);</span>
<span class='curline'><a href='../S/67.html#L74'>lock</a>               74 kernel/file.c    release(&amp;ftable.lock);</span>
<span class='curline'><a href='../S/41.html#L21'>lock</a>               21 kernel/file.h    struct sleeplock lock; // protects everything below here</span>
<span class='curline'><a href='../S/48.html#L175'>lock</a>              175 kernel/fs.c      struct spinlock lock;</span>
<span class='curline'><a href='../S/48.html#L184'>lock</a>              184 kernel/fs.c      initlock(&amp;icache.lock, "icache");</span>
<span class='curline'><a href='../S/48.html#L186'>lock</a>              186 kernel/fs.c        initsleeplock(&amp;icache.inode[i].lock, "inode");</span>
<span class='curline'><a href='../S/48.html#L247'>lock</a>              247 kernel/fs.c      acquire(&amp;icache.lock);</span>
<span class='curline'><a href='../S/48.html#L254'>lock</a>              254 kernel/fs.c          release(&amp;icache.lock);</span>
<span class='curline'><a href='../S/48.html#L270'>lock</a>              270 kernel/fs.c      release(&amp;icache.lock);</span>
<span class='curline'><a href='../S/48.html#L280'>lock</a>              280 kernel/fs.c      acquire(&amp;icache.lock);</span>
<span class='curline'><a href='../S/48.html#L282'>lock</a>              282 kernel/fs.c      release(&amp;icache.lock);</span>
<span class='curline'><a href='../S/48.html#L297'>lock</a>              297 kernel/fs.c      acquiresleep(&amp;ip-&gt;lock);</span>
<span class='curline'><a href='../S/48.html#L319'>lock</a>              319 kernel/fs.c      if(ip == 0 || !holdingsleep(&amp;ip-&gt;lock) || ip-&gt;ref &lt; 1)</span>
<span class='curline'><a href='../S/48.html#L322'>lock</a>              322 kernel/fs.c      releasesleep(&amp;ip-&gt;lock);</span>
<span class='curline'><a href='../S/48.html#L335'>lock</a>              335 kernel/fs.c      acquire(&amp;icache.lock);</span>
<span class='curline'><a href='../S/48.html#L342'>lock</a>              342 kernel/fs.c        acquiresleep(&amp;ip-&gt;lock);</span>
<span class='curline'><a href='../S/48.html#L344'>lock</a>              344 kernel/fs.c        release(&amp;icache.lock);</span>
<span class='curline'><a href='../S/48.html#L351'>lock</a>              351 kernel/fs.c        releasesleep(&amp;ip-&gt;lock);</span>
<span class='curline'><a href='../S/48.html#L353'>lock</a>              353 kernel/fs.c        acquire(&amp;icache.lock);</span>
<span class='curline'><a href='../S/48.html#L357'>lock</a>              357 kernel/fs.c      release(&amp;icache.lock);</span>
<span class='curline'><a href='../S/69.html#L22'>lock</a>               22 kernel/kalloc.c   struct spinlock lock;</span>
<span class='curline'><a href='../S/69.html#L29'>lock</a>               29 kernel/kalloc.c   initlock(&amp;kmem.lock, "kmem");</span>
<span class='curline'><a href='../S/69.html#L59'>lock</a>               59 kernel/kalloc.c   acquire(&amp;kmem.lock);</span>
<span class='curline'><a href='../S/69.html#L62'>lock</a>               62 kernel/kalloc.c   release(&amp;kmem.lock);</span>
<span class='curline'><a href='../S/69.html#L73'>lock</a>               73 kernel/kalloc.c   acquire(&amp;kmem.lock);</span>
<span class='curline'><a href='../S/69.html#L77'>lock</a>               77 kernel/kalloc.c   release(&amp;kmem.lock);</span>
<span class='curline'><a href='../S/28.html#L41'>lock</a>               41 kernel/log.c     struct spinlock lock;</span>
<span class='curline'><a href='../S/28.html#L60'>lock</a>               60 kernel/log.c     initlock(&amp;log.lock, "log");</span>
<span class='curline'><a href='../S/28.html#L129'>lock</a>              129 kernel/log.c     acquire(&amp;log.lock);</span>
<span class='curline'><a href='../S/28.html#L132'>lock</a>              132 kernel/log.c         sleep(&amp;log, &amp;log.lock);</span>
<span class='curline'><a href='../S/28.html#L135'>lock</a>              135 kernel/log.c         sleep(&amp;log, &amp;log.lock);</span>
<span class='curline'><a href='../S/28.html#L138'>lock</a>              138 kernel/log.c         release(&amp;log.lock);</span>
<span class='curline'><a href='../S/28.html#L151'>lock</a>              151 kernel/log.c     acquire(&amp;log.lock);</span>
<span class='curline'><a href='../S/28.html#L164'>lock</a>              164 kernel/log.c     release(&amp;log.lock);</span>
<span class='curline'><a href='../S/28.html#L170'>lock</a>              170 kernel/log.c       acquire(&amp;log.lock);</span>
<span class='curline'><a href='../S/28.html#L173'>lock</a>              173 kernel/log.c       release(&amp;log.lock);</span>
<span class='curline'><a href='../S/28.html#L224'>lock</a>              224 kernel/log.c     acquire(&amp;log.lock);</span>
<span class='curline'><a href='../S/28.html#L234'>lock</a>              234 kernel/log.c     release(&amp;log.lock);</span>
<span class='curline'><a href='../S/34.html#L14'>lock</a>               14 kernel/pipe.c    struct spinlock lock;</span>
<span class='curline'><a href='../S/34.html#L37'>lock</a>               37 kernel/pipe.c    initlock(&amp;pi-&gt;lock, "pipe");</span>
<span class='curline'><a href='../S/34.html#L61'>lock</a>               61 kernel/pipe.c    acquire(&amp;pi-&gt;lock);</span>
<span class='curline'><a href='../S/34.html#L70'>lock</a>               70 kernel/pipe.c      release(&amp;pi-&gt;lock);</span>
<span class='curline'><a href='../S/34.html#L73'>lock</a>               73 kernel/pipe.c      release(&amp;pi-&gt;lock);</span>
<span class='curline'><a href='../S/34.html#L83'>lock</a>               83 kernel/pipe.c    acquire(&amp;pi-&gt;lock);</span>
<span class='curline'><a href='../S/34.html#L87'>lock</a>               87 kernel/pipe.c          release(&amp;pi-&gt;lock);</span>
<span class='curline'><a href='../S/34.html#L91'>lock</a>               91 kernel/pipe.c        sleep(&amp;pi-&gt;nwrite, &amp;pi-&gt;lock);</span>
<span class='curline'><a href='../S/34.html#L98'>lock</a>               98 kernel/pipe.c    release(&amp;pi-&gt;lock);</span>
<span class='curline'><a href='../S/34.html#L109'>lock</a>              109 kernel/pipe.c    acquire(&amp;pi-&gt;lock);</span>
<span class='curline'><a href='../S/34.html#L112'>lock</a>              112 kernel/pipe.c        release(&amp;pi-&gt;lock);</span>
<span class='curline'><a href='../S/34.html#L115'>lock</a>              115 kernel/pipe.c      sleep(&amp;pi-&gt;nread, &amp;pi-&gt;lock); //DOC: piperead-sleep</span>
<span class='curline'><a href='../S/34.html#L125'>lock</a>              125 kernel/pipe.c    release(&amp;pi-&gt;lock);</span>
<span class='curline'><a href='../S/29.html#L22'>lock</a>               22 kernel/printf.c   struct spinlock lock;</span>
<span class='curline'><a href='../S/29.html#L72'>lock</a>               72 kernel/printf.c     acquire(&amp;pr.lock);</span>
<span class='curline'><a href='../S/29.html#L114'>lock</a>              114 kernel/printf.c     release(&amp;pr.lock);</span>
<span class='curline'><a href='../S/29.html#L132'>lock</a>              132 kernel/printf.c   initlock(&amp;pr.lock, "pr");</span>
<span class='curline'><a href='../S/63.html#L49'>lock</a>               49 kernel/proc.c        initlock(&amp;p-&gt;lock, "proc");</span>
<span class='curline'><a href='../S/63.html#L105'>lock</a>              105 kernel/proc.c      acquire(&amp;p-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L109'>lock</a>              109 kernel/proc.c        release(&amp;p-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L119'>lock</a>              119 kernel/proc.c      release(&amp;p-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L127'>lock</a>              127 kernel/proc.c      release(&amp;p-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L240'>lock</a>              240 kernel/proc.c    release(&amp;p-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L280'>lock</a>              280 kernel/proc.c      release(&amp;np-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L305'>lock</a>              305 kernel/proc.c    release(&amp;np-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L325'>lock</a>              325 kernel/proc.c        acquire(&amp;pp-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L331'>lock</a>              331 kernel/proc.c        release(&amp;pp-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L366'>lock</a>              366 kernel/proc.c    acquire(&amp;initproc-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L368'>lock</a>              368 kernel/proc.c    release(&amp;initproc-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L376'>lock</a>              376 kernel/proc.c    acquire(&amp;p-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L378'>lock</a>              378 kernel/proc.c    release(&amp;p-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L382'>lock</a>              382 kernel/proc.c    acquire(&amp;original_parent-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L384'>lock</a>              384 kernel/proc.c    acquire(&amp;p-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L395'>lock</a>              395 kernel/proc.c    release(&amp;original_parent-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L413'>lock</a>              413 kernel/proc.c    acquire(&amp;p-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L425'>lock</a>              425 kernel/proc.c          acquire(&amp;np-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L432'>lock</a>              432 kernel/proc.c              release(&amp;np-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L433'>lock</a>              433 kernel/proc.c              release(&amp;p-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L437'>lock</a>              437 kernel/proc.c            release(&amp;np-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L438'>lock</a>              438 kernel/proc.c            release(&amp;p-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L441'>lock</a>              441 kernel/proc.c          release(&amp;np-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L447'>lock</a>              447 kernel/proc.c        release(&amp;p-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L452'>lock</a>              452 kernel/proc.c      sleep(p, &amp;p-&gt;lock);  //DOC: wait-sleep</span>
<span class='curline'><a href='../S/63.html#L475'>lock</a>              475 kernel/proc.c        acquire(&amp;p-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L488'>lock</a>              488 kernel/proc.c        release(&amp;p-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L506'>lock</a>              506 kernel/proc.c    if(!holding(&amp;p-&gt;lock))</span>
<span class='curline'><a href='../S/63.html#L525'>lock</a>              525 kernel/proc.c    acquire(&amp;p-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L528'>lock</a>              528 kernel/proc.c    release(&amp;p-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L539'>lock</a>              539 kernel/proc.c    release(&amp;myproc()-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L565'>lock</a>              565 kernel/proc.c    if(lk != &amp;p-&gt;lock){  //DOC: sleeplock0</span>
<span class='curline'><a href='../S/63.html#L566'>lock</a>              566 kernel/proc.c      acquire(&amp;p-&gt;lock);  //DOC: sleeplock1</span>
<span class='curline'><a href='../S/63.html#L580'>lock</a>              580 kernel/proc.c    if(lk != &amp;p-&gt;lock){</span>
<span class='curline'><a href='../S/63.html#L581'>lock</a>              581 kernel/proc.c      release(&amp;p-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L594'>lock</a>              594 kernel/proc.c      acquire(&amp;p-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L598'>lock</a>              598 kernel/proc.c      release(&amp;p-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L607'>lock</a>              607 kernel/proc.c    if(!holding(&amp;p-&gt;lock))</span>
<span class='curline'><a href='../S/63.html#L623'>lock</a>              623 kernel/proc.c      acquire(&amp;p-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L630'>lock</a>              630 kernel/proc.c        release(&amp;p-&gt;lock);</span>
<span class='curline'><a href='../S/63.html#L633'>lock</a>              633 kernel/proc.c      release(&amp;p-&gt;lock);</span>
<span class='curline'><a href='../S/35.html#L87'>lock</a>               87 kernel/proc.h    struct spinlock lock;</span>
<span class='curline'><a href='../S/32.html#L25'>lock</a>               25 kernel/ramdisk.c   if(!holdingsleep(&amp;b-&gt;lock))</span>
</pre>
</body>
</html>
