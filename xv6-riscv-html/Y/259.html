<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>pagetable</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.6.14' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/39.html#L35'>pagetable</a>          35 kernel/exec.c    pagetable_t pagetable = 0, oldpagetable;</span>
<span class='curline'><a href='../S/39.html#L55'>pagetable</a>          55 kernel/exec.c    if((pagetable = proc_pagetable(p)) == 0)</span>
<span class='curline'><a href='../S/39.html#L71'>pagetable</a>          71 kernel/exec.c      if((sz1 = uvmalloc(pagetable, sz, ph.vaddr + ph.memsz, flags2perm(ph.flags))) == 0)</span>
<span class='curline'><a href='../S/39.html#L74'>pagetable</a>          74 kernel/exec.c      if(loadseg(pagetable, ph.vaddr, ip, ph.off, ph.filesz) &lt; 0)</span>
<span class='curline'><a href='../S/39.html#L89'>pagetable</a>          89 kernel/exec.c    if((sz1 = uvmalloc(pagetable, sz, sz + (USERSTACK+1)*PGSIZE, PTE_W)) == 0)</span>
<span class='curline'><a href='../S/39.html#L92'>pagetable</a>          92 kernel/exec.c    uvmclear(pagetable, sz-(USERSTACK+1)*PGSIZE);</span>
<span class='curline'><a href='../S/39.html#L105'>pagetable</a>         105 kernel/exec.c      if(copyout(pagetable, sp, argv[argc], strlen(argv[argc]) + 1) &lt; 0)</span>
<span class='curline'><a href='../S/39.html#L116'>pagetable</a>         116 kernel/exec.c    if(copyout(pagetable, sp, (char *)ustack, (argc+1)*sizeof(uint64)) &lt; 0)</span>
<span class='curline'><a href='../S/39.html#L131'>pagetable</a>         131 kernel/exec.c    oldpagetable = p-&gt;pagetable;</span>
<span class='curline'><a href='../S/39.html#L132'>pagetable</a>         132 kernel/exec.c    p-&gt;pagetable = pagetable;</span>
<span class='curline'><a href='../S/39.html#L141'>pagetable</a>         141 kernel/exec.c    if(pagetable)</span>
<span class='curline'><a href='../S/39.html#L142'>pagetable</a>         142 kernel/exec.c      proc_freepagetable(pagetable, sz);</span>
<span class='curline'><a href='../S/39.html#L155'>pagetable</a>         155 kernel/exec.c  loadseg(pagetable_t pagetable, uint64 va, struct inode *ip, uint offset, uint sz)</span>
<span class='curline'><a href='../S/39.html#L161'>pagetable</a>         161 kernel/exec.c      pa = walkaddr(pagetable, va + i);</span>
<span class='curline'><a href='../S/69.html#L97'>pagetable</a>          97 kernel/file.c      if(copyout(p-&gt;pagetable, addr, (char *)&amp;st, sizeof(st)) &lt; 0)</span>
<span class='curline'><a href='../S/37.html#L93'>pagetable</a>          93 kernel/pipe.c        if(copyin(pr-&gt;pagetable, &amp;ch, addr + i, 1) == -1)</span>
<span class='curline'><a href='../S/37.html#L124'>pagetable</a>         124 kernel/pipe.c      if(copyout(pr-&gt;pagetable, addr + i, &amp;ch, 1) == -1)</span>
<span class='curline'><a href='../S/65.html#L136'>pagetable</a>         136 kernel/proc.c    p-&gt;pagetable = proc_pagetable(p);</span>
<span class='curline'><a href='../S/65.html#L137'>pagetable</a>         137 kernel/proc.c    if(p-&gt;pagetable == 0){</span>
<span class='curline'><a href='../S/65.html#L161'>pagetable</a>         161 kernel/proc.c    if(p-&gt;pagetable)</span>
<span class='curline'><a href='../S/65.html#L162'>pagetable</a>         162 kernel/proc.c      proc_freepagetable(p-&gt;pagetable, p-&gt;sz);</span>
<span class='curline'><a href='../S/65.html#L163'>pagetable</a>         163 kernel/proc.c    p-&gt;pagetable = 0;</span>
<span class='curline'><a href='../S/65.html#L179'>pagetable</a>         179 kernel/proc.c    pagetable_t pagetable;</span>
<span class='curline'><a href='../S/65.html#L182'>pagetable</a>         182 kernel/proc.c    pagetable = uvmcreate();</span>
<span class='curline'><a href='../S/65.html#L183'>pagetable</a>         183 kernel/proc.c    if(pagetable == 0)</span>
<span class='curline'><a href='../S/65.html#L190'>pagetable</a>         190 kernel/proc.c    if(mappages(pagetable, TRAMPOLINE, PGSIZE,</span>
<span class='curline'><a href='../S/65.html#L192'>pagetable</a>         192 kernel/proc.c      uvmfree(pagetable, 0);</span>
<span class='curline'><a href='../S/65.html#L198'>pagetable</a>         198 kernel/proc.c    if(mappages(pagetable, TRAPFRAME, PGSIZE,</span>
<span class='curline'><a href='../S/65.html#L200'>pagetable</a>         200 kernel/proc.c      uvmunmap(pagetable, TRAMPOLINE, 1, 0);</span>
<span class='curline'><a href='../S/65.html#L201'>pagetable</a>         201 kernel/proc.c      uvmfree(pagetable, 0);</span>
<span class='curline'><a href='../S/65.html#L205'>pagetable</a>         205 kernel/proc.c    return pagetable;</span>
<span class='curline'><a href='../S/65.html#L211'>pagetable</a>         211 kernel/proc.c  proc_freepagetable(pagetable_t pagetable, uint64 sz)</span>
<span class='curline'><a href='../S/65.html#L213'>pagetable</a>         213 kernel/proc.c    uvmunmap(pagetable, TRAMPOLINE, 1, 0);</span>
<span class='curline'><a href='../S/65.html#L214'>pagetable</a>         214 kernel/proc.c    uvmunmap(pagetable, TRAPFRAME, 1, 0);</span>
<span class='curline'><a href='../S/65.html#L215'>pagetable</a>         215 kernel/proc.c    uvmfree(pagetable, sz);</span>
<span class='curline'><a href='../S/65.html#L244'>pagetable</a>         244 kernel/proc.c      if((sz = uvmalloc(p-&gt;pagetable, sz, sz + n, PTE_W)) == 0) {</span>
<span class='curline'><a href='../S/65.html#L248'>pagetable</a>         248 kernel/proc.c      sz = uvmdealloc(p-&gt;pagetable, sz, sz + n);</span>
<span class='curline'><a href='../S/65.html#L269'>pagetable</a>         269 kernel/proc.c    if(uvmcopy(p-&gt;pagetable, np-&gt;pagetable, p-&gt;sz) &lt; 0){</span>
<span class='curline'><a href='../S/65.html#L388'>pagetable</a>         388 kernel/proc.c            if(addr != 0 &amp;&amp; copyout(p-&gt;pagetable, addr, (char *)&amp;pp-&gt;xstate,</span>
<span class='curline'><a href='../S/65.html#L532'>pagetable</a>         532 kernel/proc.c    uint64 satp = MAKE_SATP(p-&gt;pagetable);</span>
<span class='curline'><a href='../S/65.html#L637'>pagetable</a>         637 kernel/proc.c      return copyout(p-&gt;pagetable, dst, src, len);</span>
<span class='curline'><a href='../S/65.html#L652'>pagetable</a>         652 kernel/proc.c      return copyin(p-&gt;pagetable, dst, src, len);</span>
<span class='curline'><a href='../S/38.html#L101'>pagetable</a>         101 kernel/proc.h    pagetable_t pagetable;       // User page table</span>
<span class='curline'><a href='../S/66.html#L225'>pagetable</a>         225 kernel/riscv.h #define MAKE_SATP(pagetable) (SATP_SV39 | (((uint64)pagetable) &gt;&gt; 12))</span>
<span class='curline'><a href='../S/53.html#L17'>pagetable</a>          17 kernel/syscall.c   if(copyin(p-&gt;pagetable, (char *)ip, addr, sizeof(*ip)) != 0)</span>
<span class='curline'><a href='../S/53.html#L28'>pagetable</a>          28 kernel/syscall.c   if(copyinstr(p-&gt;pagetable, buf, addr, max) &lt; 0)</span>
<span class='curline'><a href='../S/46.html#L496'>pagetable</a>         496 kernel/sysfile.c   if(copyout(p-&gt;pagetable, fdarray, (char*)&amp;fd0, sizeof(fd0)) &lt; 0 ||</span>
<span class='curline'><a href='../S/46.html#L497'>pagetable</a>         497 kernel/sysfile.c      copyout(p-&gt;pagetable, fdarray+sizeof(fd0), (char *)&amp;fd1, sizeof(fd1)) &lt; 0){</span>
<span class='curline'><a href='../S/58.html#L72'>pagetable</a>          72 kernel/trap.c              vmfault(p-&gt;pagetable, r_stval(), (r_scause() == 13)? 1 : 0) != 0) {</span>
<span class='curline'><a href='../S/58.html#L90'>pagetable</a>          90 kernel/trap.c    uint64 satp = MAKE_SATP(p-&gt;pagetable);</span>
<span class='curline'><a href='../S/41.html#L98'>pagetable</a>          98 kernel/vm.c    walk(pagetable_t pagetable, uint64 va, int alloc)</span>
<span class='curline'><a href='../S/41.html#L104'>pagetable</a>         104 kernel/vm.c        pte_t *pte = &amp;pagetable[PX(level, va)];</span>
<span class='curline'><a href='../S/41.html#L106'>pagetable</a>         106 kernel/vm.c          pagetable = (pagetable_t)PTE2PA(*pte);</span>
<span class='curline'><a href='../S/41.html#L108'>pagetable</a>         108 kernel/vm.c          if(!alloc || (pagetable = (pde_t*)kalloc()) == 0)</span>
<span class='curline'><a href='../S/41.html#L110'>pagetable</a>         110 kernel/vm.c          memset(pagetable, 0, PGSIZE);</span>
<span class='curline'><a href='../S/41.html#L111'>pagetable</a>         111 kernel/vm.c          *pte = PA2PTE(pagetable) | PTE_V;</span>
<span class='curline'><a href='../S/41.html#L114'>pagetable</a>         114 kernel/vm.c      return &amp;pagetable[PX(0, va)];</span>
<span class='curline'><a href='../S/41.html#L121'>pagetable</a>         121 kernel/vm.c    walkaddr(pagetable_t pagetable, uint64 va)</span>
<span class='curline'><a href='../S/41.html#L129'>pagetable</a>         129 kernel/vm.c      pte = walk(pagetable, va, 0);</span>
<span class='curline'><a href='../S/41.html#L146'>pagetable</a>         146 kernel/vm.c    mappages(pagetable_t pagetable, uint64 va, uint64 size, uint64 pa, int perm)</span>
<span class='curline'><a href='../S/41.html#L163'>pagetable</a>         163 kernel/vm.c        if((pte = walk(pagetable, a, 1)) == 0)</span>
<span class='curline'><a href='../S/41.html#L181'>pagetable</a>         181 kernel/vm.c      pagetable_t pagetable;</span>
<span class='curline'><a href='../S/41.html#L182'>pagetable</a>         182 kernel/vm.c      pagetable = (pagetable_t) kalloc();</span>
<span class='curline'><a href='../S/41.html#L183'>pagetable</a>         183 kernel/vm.c      if(pagetable == 0)</span>
<span class='curline'><a href='../S/41.html#L185'>pagetable</a>         185 kernel/vm.c      memset(pagetable, 0, PGSIZE);</span>
<span class='curline'><a href='../S/41.html#L186'>pagetable</a>         186 kernel/vm.c      return pagetable;</span>
<span class='curline'><a href='../S/41.html#L193'>pagetable</a>         193 kernel/vm.c    uvmunmap(pagetable_t pagetable, uint64 va, uint64 npages, int do_free)</span>
<span class='curline'><a href='../S/41.html#L202'>pagetable</a>         202 kernel/vm.c        if((pte = walk(pagetable, a, 0)) == 0) // leaf page table entry allocated?</span>
<span class='curline'><a href='../S/41.html#L217'>pagetable</a>         217 kernel/vm.c    uvmalloc(pagetable_t pagetable, uint64 oldsz, uint64 newsz, int xperm)</span>
<span class='curline'><a href='../S/41.html#L229'>pagetable</a>         229 kernel/vm.c          uvmdealloc(pagetable, a, oldsz);</span>
<span class='curline'><a href='../S/41.html#L233'>pagetable</a>         233 kernel/vm.c        if(mappages(pagetable, a, PGSIZE, (uint64)mem, PTE_R|PTE_U|xperm) != 0){</span>
<span class='curline'><a href='../S/41.html#L235'>pagetable</a>         235 kernel/vm.c          uvmdealloc(pagetable, a, oldsz);</span>
<span class='curline'><a href='../S/41.html#L247'>pagetable</a>         247 kernel/vm.c    uvmdealloc(pagetable_t pagetable, uint64 oldsz, uint64 newsz)</span>
<span class='curline'><a href='../S/41.html#L254'>pagetable</a>         254 kernel/vm.c        uvmunmap(pagetable, PGROUNDUP(newsz), npages, 1);</span>
<span class='curline'><a href='../S/41.html#L263'>pagetable</a>         263 kernel/vm.c    freewalk(pagetable_t pagetable)</span>
<span class='curline'><a href='../S/41.html#L267'>pagetable</a>         267 kernel/vm.c        pte_t pte = pagetable[i];</span>
<span class='curline'><a href='../S/41.html#L272'>pagetable</a>         272 kernel/vm.c          pagetable[i] = 0;</span>
<span class='curline'><a href='../S/41.html#L277'>pagetable</a>         277 kernel/vm.c      kfree((void*)pagetable);</span>
<span class='curline'><a href='../S/41.html#L283'>pagetable</a>         283 kernel/vm.c    uvmfree(pagetable_t pagetable, uint64 sz)</span>
<span class='curline'><a href='../S/41.html#L286'>pagetable</a>         286 kernel/vm.c        uvmunmap(pagetable, 0, PGROUNDUP(sz)/PGSIZE, 1);</span>
<span class='curline'><a href='../S/41.html#L287'>pagetable</a>         287 kernel/vm.c      freewalk(pagetable);</span>
<span class='curline'><a href='../S/41.html#L329'>pagetable</a>         329 kernel/vm.c    uvmclear(pagetable_t pagetable, uint64 va)</span>
<span class='curline'><a href='../S/41.html#L333'>pagetable</a>         333 kernel/vm.c      pte = walk(pagetable, va, 0);</span>
<span class='curline'><a href='../S/41.html#L343'>pagetable</a>         343 kernel/vm.c    copyout(pagetable_t pagetable, uint64 dstva, char *src, uint64 len)</span>
<span class='curline'><a href='../S/41.html#L353'>pagetable</a>         353 kernel/vm.c        pa0 = walkaddr(pagetable, va0);</span>
<span class='curline'><a href='../S/41.html#L355'>pagetable</a>         355 kernel/vm.c          if((pa0 = vmfault(pagetable, va0, 0)) == 0) {</span>
<span class='curline'><a href='../S/41.html#L360'>pagetable</a>         360 kernel/vm.c        pte = walk(pagetable, va0, 0);</span>
<span class='curline'><a href='../S/41.html#L381'>pagetable</a>         381 kernel/vm.c    copyin(pagetable_t pagetable, char *dst, uint64 srcva, uint64 len)</span>
<span class='curline'><a href='../S/41.html#L387'>pagetable</a>         387 kernel/vm.c        pa0 = walkaddr(pagetable, va0);</span>
<span class='curline'><a href='../S/41.html#L389'>pagetable</a>         389 kernel/vm.c          if((pa0 = vmfault(pagetable, va0, 0)) == 0) {</span>
<span class='curline'><a href='../S/41.html#L410'>pagetable</a>         410 kernel/vm.c    copyinstr(pagetable_t pagetable, char *dst, uint64 srcva, uint64 max)</span>
<span class='curline'><a href='../S/41.html#L417'>pagetable</a>         417 kernel/vm.c        pa0 = walkaddr(pagetable, va0);</span>
<span class='curline'><a href='../S/41.html#L453'>pagetable</a>         453 kernel/vm.c    vmfault(pagetable_t pagetable, uint64 va, int read)</span>
<span class='curline'><a href='../S/41.html#L461'>pagetable</a>         461 kernel/vm.c      if(ismapped(pagetable, va)) {</span>
<span class='curline'><a href='../S/41.html#L468'>pagetable</a>         468 kernel/vm.c      if (mappages(p-&gt;pagetable, va, PGSIZE, mem, PTE_W|PTE_U|PTE_R) != 0) {</span>
<span class='curline'><a href='../S/41.html#L476'>pagetable</a>         476 kernel/vm.c    ismapped(pagetable_t pagetable, uint64 va)</span>
<span class='curline'><a href='../S/41.html#L478'>pagetable</a>         478 kernel/vm.c      pte_t *pte = walk(pagetable, va, 0);</span>
</pre>
</body>
</html>
