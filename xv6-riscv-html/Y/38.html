<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>bi</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.6.14' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/50.html#L69'>bi</a>                 69 kernel/fs.c      int b, bi, m;</span>
<span class='curline'><a href='../S/50.html#L75'>bi</a>                 75 kernel/fs.c        for(bi = 0; bi &lt; BPB &amp;&amp; b + bi &lt; sb.size; bi++){</span>
<span class='curline'><a href='../S/50.html#L76'>bi</a>                 76 kernel/fs.c          m = 1 &lt;&lt; (bi % 8);</span>
<span class='curline'><a href='../S/50.html#L77'>bi</a>                 77 kernel/fs.c          if((bp-&gt;data[bi/8] &amp; m) == 0){  // Is block free?</span>
<span class='curline'><a href='../S/50.html#L78'>bi</a>                 78 kernel/fs.c            bp-&gt;data[bi/8] |= m;  // Mark block in use.</span>
<span class='curline'><a href='../S/50.html#L81'>bi</a>                 81 kernel/fs.c            bzero(dev, b + bi);</span>
<span class='curline'><a href='../S/50.html#L82'>bi</a>                 82 kernel/fs.c            return b + bi;</span>
<span class='curline'><a href='../S/50.html#L96'>bi</a>                 96 kernel/fs.c      int bi, m;</span>
<span class='curline'><a href='../S/50.html#L99'>bi</a>                 99 kernel/fs.c      bi = b % BPB;</span>
<span class='curline'><a href='../S/50.html#L100'>bi</a>                100 kernel/fs.c      m = 1 &lt;&lt; (bi % 8);</span>
<span class='curline'><a href='../S/50.html#L101'>bi</a>                101 kernel/fs.c      if((bp-&gt;data[bi/8] &amp; m) == 0)</span>
<span class='curline'><a href='../S/50.html#L103'>bi</a>                103 kernel/fs.c      bp-&gt;data[bi/8] &amp;= ~m;</span>
</pre>
</body>
</html>
