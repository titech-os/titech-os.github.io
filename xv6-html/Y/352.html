<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>sb</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.7' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/19.html#L38'>sb</a>                 38 defs.h         void            readsb(int dev, struct superblock *sb);</span>
<span class='curline'><a href='../S/39.html#L28'>sb</a>                 28 fs.c           struct superblock sb; </span>
<span class='curline'><a href='../S/39.html#L32'>sb</a>                 32 fs.c           readsb(int dev, struct superblock *sb)</span>
<span class='curline'><a href='../S/39.html#L37'>sb</a>                 37 fs.c             memmove(sb, bp-&gt;data, sizeof(*sb));</span>
<span class='curline'><a href='../S/39.html#L63'>sb</a>                 63 fs.c             for(b = 0; b &lt; sb.size; b += BPB){</span>
<span class='curline'><a href='../S/39.html#L64'>sb</a>                 64 fs.c               bp = bread(dev, BBLOCK(b, sb));</span>
<span class='curline'><a href='../S/39.html#L65'>sb</a>                 65 fs.c               for(bi = 0; bi &lt; BPB &amp;&amp; b + bi &lt; sb.size; bi++){</span>
<span class='curline'><a href='../S/39.html#L87'>sb</a>                 87 fs.c             readsb(dev, &amp;sb);</span>
<span class='curline'><a href='../S/39.html#L88'>sb</a>                 88 fs.c             bp = bread(dev, BBLOCK(b, sb));</span>
<span class='curline'><a href='../S/39.html#L182'>sb</a>                182 fs.c             readsb(dev, &amp;sb);</span>
<span class='curline'><a href='../S/39.html#L184'>sb</a>                184 fs.c            inodestart %d bmap start %d\n", sb.size, sb.nblocks,</span>
<span class='curline'><a href='../S/39.html#L185'>sb</a>                185 fs.c                     sb.ninodes, sb.nlog, sb.logstart, sb.inodestart,</span>
<span class='curline'><a href='../S/39.html#L186'>sb</a>                186 fs.c                     sb.bmapstart);</span>
<span class='curline'><a href='../S/39.html#L202'>sb</a>                202 fs.c             for(inum = 1; inum &lt; sb.ninodes; inum++){</span>
<span class='curline'><a href='../S/39.html#L203'>sb</a>                203 fs.c               bp = bread(dev, IBLOCK(inum, sb));</span>
<span class='curline'><a href='../S/39.html#L227'>sb</a>                227 fs.c             bp = bread(ip-&gt;dev, IBLOCK(ip-&gt;inum, sb));</span>
<span class='curline'><a href='../S/39.html#L300'>sb</a>                300 fs.c               bp = bread(ip-&gt;dev, IBLOCK(ip-&gt;inum, sb));</span>
<span class='curline'><a href='../S/41.html#L42'>sb</a>                 42 fs.h           #define IBLOCK(i, sb)     ((i) / IPB + sb.inodestart)</span>
<span class='curline'><a href='../S/41.html#L48'>sb</a>                 48 fs.h           #define BBLOCK(b, sb) (b/BPB + sb.bmapstart)</span>
<span class='curline'><a href='../S/70.html#L196'>sb</a>                196 lapic.c          int sb, bcd;</span>
<span class='curline'><a href='../S/70.html#L198'>sb</a>                198 lapic.c          sb = cmos_read(CMOS_STATB);</span>
<span class='curline'><a href='../S/70.html#L200'>sb</a>                200 lapic.c          bcd = (sb &amp; (1 &lt;&lt; 2)) == 0;</span>
<span class='curline'><a href='../S/77.html#L59'>sb</a>                 59 log.c            struct superblock sb;</span>
<span class='curline'><a href='../S/77.html#L61'>sb</a>                 61 log.c            readsb(dev, &amp;sb);</span>
<span class='curline'><a href='../S/77.html#L62'>sb</a>                 62 log.c            log.start = sb.logstart;</span>
<span class='curline'><a href='../S/77.html#L63'>sb</a>                 63 log.c            log.size = sb.nlog;</span>
<span class='curline'><a href='../S/92.html#L30'>sb</a>                 30 mkfs.c         struct superblock sb;</span>
<span class='curline'><a href='../S/92.html#L97'>sb</a>                 97 mkfs.c           sb.size = xint(FSSIZE);</span>
<span class='curline'><a href='../S/92.html#L98'>sb</a>                 98 mkfs.c           sb.nblocks = xint(nblocks);</span>
<span class='curline'><a href='../S/92.html#L99'>sb</a>                 99 mkfs.c           sb.ninodes = xint(NINODES);</span>
<span class='curline'><a href='../S/92.html#L100'>sb</a>                100 mkfs.c           sb.nlog = xint(nlog);</span>
<span class='curline'><a href='../S/92.html#L101'>sb</a>                101 mkfs.c           sb.logstart = xint(2);</span>
<span class='curline'><a href='../S/92.html#L102'>sb</a>                102 mkfs.c           sb.inodestart = xint(2+nlog);</span>
<span class='curline'><a href='../S/92.html#L103'>sb</a>                103 mkfs.c           sb.bmapstart = xint(2+nlog+ninodeblocks);</span>
<span class='curline'><a href='../S/92.html#L114'>sb</a>                114 mkfs.c           memmove(buf, &amp;sb, sizeof(sb));</span>
<span class='curline'><a href='../S/92.html#L190'>sb</a>                190 mkfs.c           bn = IBLOCK(inum, sb);</span>
<span class='curline'><a href='../S/92.html#L204'>sb</a>                204 mkfs.c           bn = IBLOCK(inum, sb);</span>
<span class='curline'><a href='../S/92.html#L249'>sb</a>                249 mkfs.c           printf("balloc: write bitmap block at sector %d\n", sb.bmapstart);</span>
<span class='curline'><a href='../S/92.html#L250'>sb</a>                250 mkfs.c           wsect(sb.bmapstart, buf);</span>
</pre>
</body>
</html>
