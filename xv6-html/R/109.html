<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>NDIRECT</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.7' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/35.html#L25'>NDIRECT</a>            25 file.h           uint addrs[NDIRECT+1];</span>
<span class='curline'><a href='../S/39.html#L379'>NDIRECT</a>           379 fs.c             if(bn &lt; NDIRECT){</span>
<span class='curline'><a href='../S/39.html#L384'>NDIRECT</a>           384 fs.c             bn -= NDIRECT;</span>
<span class='curline'><a href='../S/39.html#L388'>NDIRECT</a>           388 fs.c               if((addr = ip-&gt;addrs[NDIRECT]) == 0)</span>
<span class='curline'><a href='../S/39.html#L389'>NDIRECT</a>           389 fs.c                 ip-&gt;addrs[NDIRECT] = addr = balloc(ip-&gt;dev);</span>
<span class='curline'><a href='../S/39.html#L415'>NDIRECT</a>           415 fs.c             for(i = 0; i &lt; NDIRECT; i++){</span>
<span class='curline'><a href='../S/39.html#L422'>NDIRECT</a>           422 fs.c             if(ip-&gt;addrs[NDIRECT]){</span>
<span class='curline'><a href='../S/39.html#L423'>NDIRECT</a>           423 fs.c               bp = bread(ip-&gt;dev, ip-&gt;addrs[NDIRECT]);</span>
<span class='curline'><a href='../S/39.html#L430'>NDIRECT</a>           430 fs.c               bfree(ip-&gt;dev, ip-&gt;addrs[NDIRECT]);</span>
<span class='curline'><a href='../S/39.html#L431'>NDIRECT</a>           431 fs.c               ip-&gt;addrs[NDIRECT] = 0;</span>
<span class='curline'><a href='../S/41.html#L26'>NDIRECT</a>            26 fs.h           #define MAXFILE (NDIRECT + NINDIRECT)</span>
<span class='curline'><a href='../S/41.html#L35'>NDIRECT</a>            35 fs.h             uint addrs[NDIRECT+1];   // Data block addresses</span>
<span class='curline'><a href='../S/92.html#L271'>NDIRECT</a>           271 mkfs.c             if(fbn &lt; NDIRECT){</span>
<span class='curline'><a href='../S/92.html#L277'>NDIRECT</a>           277 mkfs.c               if(xint(din.addrs[NDIRECT]) == 0){</span>
<span class='curline'><a href='../S/92.html#L278'>NDIRECT</a>           278 mkfs.c                 din.addrs[NDIRECT] = xint(freeblock++);</span>
<span class='curline'><a href='../S/92.html#L280'>NDIRECT</a>           280 mkfs.c               rsect(xint(din.addrs[NDIRECT]), (char*)indirect);</span>
<span class='curline'><a href='../S/92.html#L281'>NDIRECT</a>           281 mkfs.c               if(indirect[fbn - NDIRECT] == 0){</span>
<span class='curline'><a href='../S/92.html#L282'>NDIRECT</a>           282 mkfs.c                 indirect[fbn - NDIRECT] = xint(freeblock++);</span>
<span class='curline'><a href='../S/92.html#L283'>NDIRECT</a>           283 mkfs.c                 wsect(xint(din.addrs[NDIRECT]), (char*)indirect);</span>
<span class='curline'><a href='../S/92.html#L285'>NDIRECT</a>           285 mkfs.c               x = xint(indirect[fbn-NDIRECT]);</span>
</pre>
</body>
</html>
